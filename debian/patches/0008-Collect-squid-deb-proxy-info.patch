From ac71ef2cdbdc24d3f8594c50a11653b1a5e43d3d Mon Sep 17 00:00:00 2001
From: Louis Bouchard <louis.bouchard@canonical.com>
Date: Thu, 28 Aug 2014 12:42:01 +0200
Subject: Collect squid-deb-proxy info

Description: Collect squid-deb-proxy info

Author: Louis Bouchard <louis.bouchard@canonical.com>
Bug-Ubuntu: http://bugs.launchpad.net/bugs/1311131
Origin: upstream, https://github.com/sosreport/sos/commit/49198774ad051892b6f609bdc0d126f8a8e8c00e
---
 sos/plugins/squid.py | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/sos/plugins/squid.py b/sos/plugins/squid.py
index bf6579b..19292cd 100644
--- a/sos/plugins/squid.py
+++ b/sos/plugins/squid.py
@@ -14,6 +14,7 @@
 
 from sos.plugins import Plugin, RedHatPlugin, DebianPlugin, UbuntuPlugin
 
+
 class Squid(Plugin):
     """squid related information
     """
@@ -23,6 +24,7 @@ class Squid(Plugin):
     option_list = [("logsize", "maximum size (MiB) of logs to collect",
                     "", 15)]
 
+
 class RedHatSquid(Squid, RedHatPlugin):
     """squid Red Hat related information
     """
@@ -32,7 +34,8 @@ class RedHatSquid(Squid, RedHatPlugin):
 
     def setup(self):
         self.add_copy_spec_limit("/etc/squid/squid.conf",
-                        sizelimit=self.get_option('logsize'))
+                                 sizelimit=self.get_option('logsize'))
+
 
 class DebianSquid(Squid, DebianPlugin, UbuntuPlugin):
     """squid related information for Debian and Ubuntu
@@ -44,4 +47,9 @@ class DebianSquid(Squid, DebianPlugin, UbuntuPlugin):
 
     def setup(self):
         self.add_copy_spec_limit("/etc/squid3/squid.conf",
-                        sizelimit=self.get_option('logsize'))
+                                 sizelimit=self.get_option('logsize'))
+        self.add_copy_spec_limit("/var/log/squid3/*",
+                                 sizelimit=self.get_option('logsize'))
+        self.add_copy_specs(['/etc/squid-deb-proxy'])
+        self.add_copy_spec_limit("/var/log/squid-deb-proxy/*",
+                                 sizelimit=self.get_option('logsize'))
